<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para Alix ðŸ’—</title>

<style>

body{
  margin:0;
  height:100vh;
  overflow:hidden;
  background-image: url("auroras.jpg");
  background-size: cover;
  background-position: center;
  font-family: 'Segoe UI', cursive;
  color:white;
}


#intro{
  position:absolute;
  top:35%;
  width:100%;
  text-align:center;
  font-size:40px;
  opacity:0;
  animation: aparecer 2s forwards;
}

@keyframes aparecer{
  to{ opacity:1; }
}


#boton{
  position:absolute;
  top:55%;
  left:50%;
  transform:translateX(-50%);
  padding:15px 30px;
  font-size:18px;
  background:#ff4da6;
  border:none;
  border-radius:30px;
  color:white;
  cursor:pointer;
  transition:0.3s;
}

.hidden{
  display:none;
}


.corazon{
  position:fixed;
  top:-20px;
  font-size:20px;
  animation: caer 4s linear forwards;
}

@keyframes caer{
  to{
    transform:translateY(110vh);
    opacity:0;
  }
}


.card-container{
  position:fixed;
  left:0%;
  top:50%;
  transform:translateY(-50%);
  perspective:1000px;
  display:none;
  z-index:3;
}

.card{
  width:250px;
  height:220px;
  position:relative;
  transform-style:preserve-3d;
  transition:transform 1s;
  cursor:pointer;
}

.card.open{
  transform:rotateY(-160deg);
}

.front, .inside{
  position:absolute;
  width:100%;
  height:100%;
  backface-visibility:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:20px;
  box-sizing:border-box;
}


.front{
  background:pink;
  clip-path: path("M125 30 C125 -10, 250 -10, 250 90 C250 160,125 200,125 200 C125 200,0 160,0 90 C0 -10,125 -10,125 30 Z");
  font-size:18px;
  font-weight:bold;
  color:white;
}

.inside{
  background:#fff0f5;
  color:#ff1493;
  transform:rotateY(180deg);
  border-radius:20px;
  font-size:16px;
}



#gojo{
  position: fixed !important;
  right: 0 !important;
  bottom: 0 !important;
  left: auto !important;
  top: auto !important;
  height: 95vh;
  z-index: 5;
  display: none;
}

</style>
</head>
<body>


<div id="intro">Esto es para ti, Alix ðŸ’«</div>

<button id="boton">Presiona aquÃ­ si puedes ðŸ˜¼</button>

<div class="card-container" id="cardContainer">
  <div class="card" id="card">
    <div class="front">ðŸ’— Para ti ðŸ’—</div>
    <div class="inside" id="mensaje"></div>
  </div>
</div>


<img src="gojo.png" id="gojo">


<audio id="musica" src="musica.mp3"></audio>

<script>


let boton = document.getElementById("boton");
let intentos = 0;

boton.addEventListener("click", function(e){

  if(intentos < 3){
    e.preventDefault();

    let x = Math.random() * (window.innerWidth - boton.offsetWidth);
    let y = Math.random() * (window.innerHeight - boton.offsetHeight);

    boton.style.position = "absolute";
    boton.style.left = x + "px";
    boton.style.top = y + "px";

    intentos++;
  } else {
    iniciarSecuencia();
  }

});

function iniciarSecuencia(){

  boton.classList.add("hidden");
  document.getElementById("intro").classList.add("hidden");

  lluviaCorazones();

  setTimeout(()=>{
    document.getElementById("cardContainer").style.display="block";
    document.getElementById("gojo").style.display="block";
  },2000);
}

function lluviaCorazones(){
  for(let i=0;i<30;i++){
    let heart = document.createElement("div");
    heart.classList.add("corazon");
    heart.innerHTML="ðŸ’—";
    heart.style.left=Math.random()*100+"vw";
    heart.style.fontSize=(Math.random()*20+10)+"px";
    heart.style.animationDuration=(Math.random()*2+3)+"s";
    document.body.appendChild(heart);

    setTimeout(()=>{ heart.remove(); },4000);
  }
}


let card = document.getElementById("card");
let mensaje = document.getElementById("mensaje");
let musica = document.getElementById("musica");

let texto = "Alix... ðŸ’—\n\nMy Lady, yo nunca le habia dicho esto pero se lo voy a decir.\n La quiero mucho y me importas, nunca olvides que eres tan bonita y la mejor persona del mundo y por cierto tu brillas como las auroras del cielo\n\n o mas que ellas, espero que sigamos siendo amigas por siempre incluso en otros universos ðŸ’•.";

let escrito = false;

card.addEventListener("click", function(){
  card.classList.add("open");
  musica.play();

  if(!escrito){
    escribirTexto(texto);
    escrito = true;
  }
});


function escribirTexto(texto){
  let i = 0;
  let intervalo = setInterval(()=>{
    mensaje.innerHTML += texto.charAt(i);
    i++;
    if(i >= texto.length){
      clearInterval(intervalo);
    }
  },50);
}

</script>

</body>
</html>